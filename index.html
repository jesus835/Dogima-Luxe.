<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dogima Luxe. - Tienda de Ropa Online</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        .personalized-notice {
            background: #e3f2fd;
            border: 1px solid #2196f3;
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
            display: flex;
            align-items: flex-start;
            gap: 10px;
        }
        
        .personalized-notice i {
            color: #2196f3;
            font-size: 18px;
            margin-top: 2px;
        }
        
        .personalized-notice p {
            margin: 0;
            color: #1976d2;
            font-size: 14px;
            line-height: 1.4;
        }
        
        @font-face {
            font-family: 'Coolvetica';
            src: url('./fonts/Coolvetica Rg.otf') format('opentype');
            font-weight: normal;
            font-style: normal;
        }
        @font-face {
            font-family: 'Malvides';
            src: url('./fonts/Malvides.otf') format('opentype');
            font-weight: normal;
            font-style: normal;
        }
        
        /* Estilos para el Overlay Unificado de Producto */
        .product-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #f5f5f5;
            z-index: 10000;
            display: none;
            flex-direction: column;
        }
        
        /* Asegurar que el modal de zoom aparezca encima del overlay */
        #imageZoomModal {
            z-index: 10001 !important;
        }
        
        .overlay-header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            height: 60px;
            background: white;
            display: flex;
            align-items: center;
            padding: 0 20px;
            z-index: 10001;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .back-btn {
            background: none;
            border: none;
            font-size: 20px;
            color: #333;
            cursor: pointer;
            padding: 10px;
        }
        
        .overlay-content {
            flex: 1;
            padding-top: 60px;
            padding-bottom: 160px;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }
        
        .product-image-section {
            padding: 10px 20px 5px;
        }
        
        .image-card {
            background: white;
            border-radius: 15px;
            padding: 15px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            position: relative;
        }
        
        .image-container {
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 100%;
            height: 200px;
            overflow: hidden;
            border-radius: 10px;
        }
        
        .image-container img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .image-dots {
            position: absolute;
            bottom: 10px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            flex-direction: row;
            gap: 8px;
            background: rgba(0, 0, 0, 0.7);
            padding: 8px 12px;
            border-radius: 20px;
        }
        
        .dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: white;
            cursor: pointer;
            transition: opacity 0.3s ease;
            opacity: 0.5;
        }
        
        .dot.active {
            background: white;
            opacity: 1;
        }
        
        .product-info-section {
            padding: 3px 20px 8px;
            flex: 1;
            margin: 0 20px 10px 20px;
        }
        
        .product-sku {
            font-size: 11px;
            color: #999;
            text-transform: uppercase;
            margin-bottom: 3px;
            font-weight: 400;
        }
        
        .product-title {
            font-size: 16px;
            font-weight: bold;
            color: #333;
            text-transform: uppercase;
            margin-bottom: 12px;
            line-height: 1.2;
        }
        
        .description-section, .specification-section {
            margin-bottom: 12px;
        }
        
        .description-header, .spec-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-weight: bold;
            color: #333;
            margin-bottom: 6px;
            cursor: pointer;
            font-size: 14px;
        }
        
        .description-header i, .spec-header i {
            color: #666;
            font-size: 12px;
        }
        
        .description-text {
            color: #666;
            line-height: 1.4;
            font-size: 13px;
        }
        
        .spec-content {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        
        .spec-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .spec-item span {
            color: #333;
            font-weight: 500;
        }
        
        .spec-item select {
            padding: 8px 12px;
            border: 1px solid #ddd;
            border-radius: 8px;
            background: white;
            color: #333;
        }
        
        .quantity-controls {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .quantity-controls button {
            width: 28px;
            height: 28px;
            border: 1px solid #ddd;
            background: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            color: #333;
            font-size: 14px;
        }
        
        .quantity-controls input {
            width: 45px;
            text-align: center;
            border: 1px solid #ddd;
            border-radius: 6px;
            padding: 6px;
            font-size: 14px;
        }
        
        .discount-info {
            background: #e8f5e8;
            color: #2e7d32;
            padding: 8px 12px;
            border-radius: 6px;
            font-size: 12px;
            font-weight: 500;
            margin-top: 8px;
            margin-bottom: 20px;
            text-align: center;
            border-left: 3px solid #4caf50;
        }
        
        .overlay-footer {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: white;
            padding: 15px 20px;
            box-shadow: 0 -2px 8px rgba(0,0,0,0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .price-section {
            display: flex;
            flex-direction: column;
            gap: 2px;
        }
        
        .price-label {
            font-size: 11px;
            color: #999;
            white-space: nowrap;
        }
        
        .discount-applied {
            font-size: 10px;
            color: #4caf50;
            font-weight: bold;
        }
        
        .price-value {
            font-size: 16px;
            font-weight: bold;
            color: #333;
        }
        
        .action-buttons {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .wishlist-btn {
            width: 45px;
            height: 45px;
            border: 1px solid #ddd;
            background: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            color: #666;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            margin-left: 5%;
        }
        
        .add-to-cart-btn {
            background: #333;
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 20px;
            font-weight: bold;
            text-transform: uppercase;
            cursor: pointer;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            transition: background 0.3s ease;
            font-size: 13px;
        }
        
        .add-to-cart-btn:hover {
            background: #555;
        }
        
        /* Media query para ajustar el padding en pantallas peque√±as */
        @media (max-width: 768px) {
            .overlay-content {
                padding-bottom: 160px;
            }
            
            .overlay-footer {
                padding: 12px 15px;
            }
        }
    </style>
</head>
<body>

    <!-- Main Header -->
    <header class="main-header">
        <div class="mobile-menu-toggle" onclick="toggleMobileMenu()">
            <i class="fas fa-bars"></i>
        </div>
        <div class="container">
            <div class="logo">
                <h1>Dogima Luxe.</h1>
            </div>
            <nav class="main-nav">
                <ul>
                    <li><a href="#" class="active">Inicio</a></li>
                    <li><a href="store.html">Tienda</a></li>
                    <li><a href="store2.html">Todos</a></li>
                    <li><a href="store.html#playeras">Playeras Lisas</a></li>
                    <li><a href="store.html#oversize">T-shirt Oversize</a></li>
                    <li><a href="store.html#boxfit">T-shirt Boxfit</a></li>
                    <li><a href="https://wa.me/50257326695?text=Me%20gustaria%20mas%20informacion%20para%20surtir%20mi%20negocio">Contacto</a></li>
                </ul>
            </nav>
                <div class="header-actions">
                <i class="fas fa-user" onclick="openCoupons()"></i>
                <i class="fas fa-search desktop-only"></i>
                <div class="cart-icon" onclick="openOrders()">
                    <i class="fas fa-receipt"></i>
                    <span class="badge" id="ordersBadge">0</span>
                </div>
                <div class="cart-icon" onclick="openCart()">
                    <i class="fas fa-shopping-cart"></i>
                    <span class="badge">0</span>
                </div>
            </div>
        </div>
        
        <!-- Men√∫ m√≥vil -->
        <div id="mobileMenu" class="mobile-menu">
            <div class="mobile-menu-content">
                <ul>
                    <li><a href="#" onclick="closeMobileMenu()">Inicio</a></li>
                    <li><a href="store.html" onclick="closeMobileMenu()">Tienda</a></li>
                    <li class="menu-category">
                        <span class="category-title" onclick="togglePersonalizeCategory()">
                            Personaliza Tu Prenda
                            <i class="fas fa-chevron-down category-arrow"></i>
                        </span>
                        <ul class="category-submenu" id="personalizeSubmenu">
                            <li><a href="store3.html" onclick="closeMobileMenu()">Personalizar</a></li>
                            <li><a href="store3.html#futbol" onclick="closeMobileMenu()">F√∫tbol</a></li>
                            <li><a href="store3.html#basquetbol" onclick="closeMobileMenu()">B√°squetbol</a></li>
                            <li><a href="store3.html#anime" onclick="closeMobileMenu()">Anime</a></li>
                            <li><a href="store3.html#artistas" onclick="closeMobileMenu()">Artistas</a></li>
                        </ul>
                    </li>
                    <li><a href="store2.html" onclick="closeMobileMenu()">Todos los art√≠culos</a></li>
                    <li class="menu-category">
                        <span class="category-title" onclick="toggleCategory()">
                            Categor√≠as
                            <i class="fas fa-chevron-down category-arrow"></i>
                        </span>
                        <ul class="category-submenu" id="categorySubmenu">
                            <li><a href="store.html#playeras" onclick="closeMobileMenu()">Playeras Lisas</a></li>
                            <li><a href="store.html#oversize" onclick="closeMobileMenu()">T-shirt Oversize</a></li>
                            <li><a href="store.html#boxfit" onclick="closeMobileMenu()">T-shirt Boxfit</a></li>
                        </ul>
                    </li>
                    <li><a href="https://wa.me/50257326695?text=Me%20gustaria%20mas%20informacion%20para%20surtir%20mi%20negocio" onclick="closeMobileMenu()">Contacto</a></li>
                </ul>
            </div>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero-section">
        <div class="container">
            <div class="hero-content">
                <div class="hero-text">
                    <h2 class="season-sale">Venta de Temporada</h2>
                    <h1>Dogima Luxe.</h1>
                    <p class="discount">Descuentos Todos los D√≠as</p>
                    <div class="hero-buttons">
                        <button class="btn btn-primary" onclick="window.location.href='store.html'">TIENDA</button>
                        <button class="btn btn-secondary" onclick="window.location.href='store.html'">MAS PRODUCTOS</button>
                    </div>
                </div>
                <div class="hero-image">
                    <img src="./images/3da14b51d706dbd752cfb260f980e4bf.png" alt="Modelo de Moda Masculina">
                </div>
            </div>
        </div>
    </section>

    <!-- Featured Products Section - Solo m√≥vil -->
    <section class="featured-products">
        <div class="container">
            <h2>Productos Destacados</h2>
            <div class="product-tabs">
                <button class="tab-btn active">Playeras Lisas</button>
                <button class="tab-btn">M√°s Vendidos</button>
                <button class="tab-btn">Mejor Valorados</button>
            </div>
            <div class="products-grid">
                <!-- Camisas por color -->
                <div class="product-item" onclick="openProductOverlay('Blanco', 'blanco', 25)" style="opacity: 1; transform: translateY(0px); transition: opacity 0.6s, transform 0.6s;">
                    <img src="./images/camisas lisas/blanco.png" alt="Playera Blanca">
                    <div class="product-details">
                        <span class="product-category">Playeras Lisas</span>
                        <h4>Color Blanco</h4>
                        <div class="price">
                            <span class="current-price">Q25</span>
                        </div>
                        <button class="btn-cart" onclick="event.stopPropagation(); openProductOverlay('Blanco', 'blanco', 25)">Agregar al Carrito</button>
                    </div>
                </div>
                <div class="product-item" onclick="openProductOverlay('Negro', 'negro', 25)" style="opacity: 1; transform: translateY(0px); transition: opacity 0.6s, transform 0.6s;">
                    <img src="./images/camisas lisas/negro.png" alt="Playera Negra">
                    <div class="product-details">
                        <span class="product-category">Playeras Lisas</span>
                        <h4>Color Negro</h4>
                        <div class="price">
                            <span class="current-price">Q25</span>
                        </div>
                        <button class="btn-cart" onclick="event.stopPropagation(); openProductOverlay('Negro', 'negro', 25)">Agregar al Carrito</button>
                    </div>
                </div>
                <div class="product-item" onclick="openProductOverlay('Celeste', 'celesteclaro', 25)" style="opacity: 0; transform: translateY(20px); transition: opacity 0.6s, transform 0.6s;">
                    <img src="./images/camisas lisas/celesteclaro.png" alt="Playera Celeste">
                    <div class="product-details">
                        <span class="product-category">Playeras Lisas</span>
                        <h4>Color Celeste</h4>
                        <div class="price">
                            <span class="current-price">Q25</span>
                        </div>
                        <button class="btn-cart" onclick="event.stopPropagation(); openProductOverlay('Celeste', 'celesteclaro', 25)">Agregar al Carrito</button>
                    </div>
                </div>
                <div class="product-item" onclick="openProductOverlay('Rojo', 'rojo', 25)" style="opacity: 0; transform: translateY(20px); transition: opacity 0.6s, transform 0.6s;">
                    <img src="./images/camisas lisas/rojo.png" alt="Playera Roja">
                    <div class="product-details">
                        <span class="product-category">Playeras Lisas</span>
                        <h4>Color Rojo</h4>
                        <div class="price">
                            <span class="current-price">Q25</span>
                        </div>
                        <button class="btn-cart" onclick="event.stopPropagation(); openProductOverlay('Rojo', 'rojo', 25)">Agregar al Carrito</button>
                    </div>
                </div>
                <div class="product-item" onclick="openProductOverlay('Verde', 'verde', 25)" style="opacity: 0; transform: translateY(20px); transition: opacity 0.6s, transform 0.6s;">
                    <img src="./images/camisas lisas/verde.png" alt="Playera Verde">
                    <div class="product-details">
                        <span class="product-category">Playeras Lisas</span>
                        <h4>Color Verde</h4>
                        <div class="price">
                            <span class="current-price">Q25</span>
                        </div>
                        <button class="btn-cart" onclick="event.stopPropagation(); openProductOverlay('Verde', 'verde', 25)">Agregar al Carrito</button>
                    </div>
                </div>
                <div class="product-item" onclick="openProductOverlay('Gris', 'gris', 25)" style="opacity: 0; transform: translateY(20px); transition: opacity 0.6s, transform 0.6s;">
                    <img src="./images/camisas lisas/gris.png" alt="Playera Gris">
                    <div class="product-details">
                        <span class="product-category">Playeras Lisas</span>
                        <h4>Color Gris</h4>
                        <div class="price">
                            <span class="current-price">Q25</span>
                        </div>
                        <button class="btn-cart" onclick="event.stopPropagation(); openProductOverlay('Gris', 'gris', 25)">Agregar al Carrito</button>
                    </div>
                </div>
                <div class="product-item" onclick="openProductOverlay('Azul', 'azul', 25)" style="opacity: 0; transform: translateY(20px); transition: opacity 0.6s, transform 0.6s;">
                    <img src="./images/camisas lisas/azul.png" alt="Playera Azul">
                    <div class="product-details">
                        <span class="product-category">Playeras Lisas</span>
                        <h4>Color Azul</h4>
                        <div class="price">
                            <span class="current-price">Q25</span>
                        </div>
                        <button class="btn-cart" onclick="event.stopPropagation(); openProductOverlay('Azul', 'azul', 25)">Agregar al Carrito</button>
                    </div>
                </div>
                <div class="product-item" onclick="openProductOverlay('Amarillo', 'amarillo', 25)" style="opacity: 0; transform: translateY(20px); transition: opacity 0.6s, transform 0.6s;">
                    <img src="./images/camisas lisas/amarillo.png" alt="Playera Amarilla">
                    <div class="product-details">
                        <span class="product-category">Playeras Lisas</span>
                        <h4>Color Amarillo</h4>
                        <div class="price">
                            <span class="current-price">Q25</span>
                        </div>
                        <button class="btn-cart" onclick="event.stopPropagation(); openProductOverlay('Amarillo', 'amarillo', 25)">Agregar al Carrito</button>
                    </div>
                </div>
                <!-- Colores adicionales -->
                <div class="product-item" onclick="openProductOverlay('Naranja', 'naranja', 25)" style="opacity: 0; transform: translateY(20px); transition: opacity 0.6s, transform 0.6s;">
                    <img src="./images/camisas lisas/naranja.png" alt="Playera Naranja">
                    <div class="product-details">
                        <span class="product-category">Playeras Lisas</span>
                        <h4>Color Naranja</h4>
                        <div class="price">
                            <span class="current-price">Q25</span>
                        </div>
                        <button class="btn-cart" onclick="event.stopPropagation(); openProductOverlay('Naranja', 'naranja', 25)">Agregar al Carrito</button>
                    </div>
                </div>
                <div class="product-item" onclick="openProductOverlay('Corinto', 'corinto', 25)" style="opacity: 0; transform: translateY(20px); transition: opacity 0.6s, transform 0.6s;">
                    <img src="./images/camisas lisas/corinto.png" alt="Playera Corinto">
                    <div class="product-details">
                        <span class="product-category">Playeras Lisas</span>
                        <h4>Color Corinto</h4>
                        <div class="price">
                            <span class="current-price">Q25</span>
                        </div>
                        <button class="btn-cart" onclick="event.stopPropagation(); openProductOverlay('Corinto', 'corinto', 25)">Agregar al Carrito</button>
                    </div>
                </div>
                <div class="product-item" onclick="openProductOverlay('Fucsia', 'fusia', 25)" style="opacity: 0; transform: translateY(20px); transition: opacity 0.6s, transform 0.6s;">
                    <img src="./images/camisas lisas/fusia.png" alt="Playera Fucsia">
                    <div class="product-details">
                        <span class="product-category">Playeras Lisas</span>
                        <h4>Color Fucsia</h4>
                        <div class="price">
                            <span class="current-price">Q25</span>
                        </div>
                        <button class="btn-cart" onclick="event.stopPropagation(); openProductOverlay('Fucsia', 'fusia', 25)">Agregar al Carrito</button>
                    </div>
                </div>
                <div class="product-item" onclick="openProductOverlay('Verde Militar', 'verdemilitar', 25)" style="opacity: 0; transform: translateY(20px); transition: opacity 0.6s, transform 0.6s;">
                    <img src="./images/camisas lisas/verdemilitar.png" alt="Playera Verde Militar">
                    <div class="product-details">
                        <span class="product-category">Playeras Lisas</span>
                        <h4>Color Verde Militar</h4>
                        <div class="price">
                            <span class="current-price">Q25</span>
                        </div>
                        <button class="btn-cart" onclick="event.stopPropagation(); openProductOverlay('Verde Militar', 'verdemilitar', 25)">Agregar al Carrito</button>
                    </div>
                </div>

                <!-- Ficha t√©cnica -->
                <div class="product-item" style="grid-column: 1 / -1; opacity: 0; transform: translateY(20px); transition: opacity 0.6s, transform 0.6s;">
                    <div class="product-details">
                        <span class="product-category">Informaci√≥n</span>
                        <h4>Playeras Lisas - Tallas, Colores y Precios</h4>
                        <p>Disponibles en tallas: S, M, L y XL</p>
                        <p>Algod√≥n en hilo 22</p>
                        <p><strong>Colores:</strong> Blanco, Negro, Azul, Azul nacional, Azul marino, Gris rata, Gris claro, Amarillo, Fucsia, Verde botella, Verde perico, Verde militar, Beige, Rojo, Celeste, Rosado</p>
                        <p><strong>Precio:</strong> Unidad Q25 ‚Äî Docena Q18</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Hoodie Section -->
    <section class="hoodie-section">
        <div class="container">
            <div class="hoodie-content">
                <div class="hoodie-text">
                    <h2>T-shirt Oversize</h2>
                    <p>Explora nuestra amplia gama de productos, tenemos todo lo que necesitas. Descubre lo √∫ltimo en soluciones que se adaptan a tu estilo de vida. Encuentra todo en un solo lugar y vive una experiencia de compra incomparable.</p>
                    <button class="btn-ver-mas" onclick="window.location.href='store.html#oversize'">VER M√ÅS</button>
                </div>
                <div class="hoodie-product">
                    <div class="product-card">
                        <img src="./images/overside/blanco.jpg" alt="T-shirt Oversize Blanco" />
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- T-shirt Boxfit Section -->
    <section class="boxfit-section">
        <div class="container">
            <div class="boxfit-content">
                <div class="boxfit-product">
                    <div class="product-card">
                        <img src="./images/T-shirt Boxifit/negro.jpg" alt="T-shirt Boxfit Negro" />
                    </div>
                </div>
                <div class="boxfit-text">
                    <h2>T-shirt Boxfit</h2>
                    <p>Descubre la comodidad perfecta con nuestras playeras Boxfit. Dise√±adas para ofrecer un ajuste moderno y c√≥modo, perfectas para cualquier ocasi√≥n. Calidad premium que se adapta a tu estilo de vida activo.</p>
                    <button class="btn-ver-mas" onclick="window.location.href='store.html#boxfit'">VER M√ÅS</button>
                </div>
            </div>
        </div>
    </section>

    <!-- Mejores Precios Section -->
    <section class="mejores-precios-section">
        <div class="container">
            <div class="precios-header">
                <h2>Conoce nuestros mejores precios</h2>
                <a href="store2.html" class="ver-todos">VER TODOS</a>
            </div>
            <div class="productos-carousel">
                <button class="carousel-btn prev-btn">
                    <i class="fas fa-chevron-left"></i>
                </button>
                <div class="productos-container">
                    <div class="producto-card">
                        <img src="./images/camisas lisas/blanco.png" alt="Playera Blanca">
                        <div class="producto-info">
                            <h4>Playera B√°sica Blanca</h4>
                            <p class="precio">Q25.00</p>
                        </div>
                        <button class="add-cart-btn">
                            <i class="fas fa-shopping-cart"></i>
                        </button>
                    </div>
                    <div class="producto-card">
                        <img src="./images/camisas lisas/negro.png" alt="Playera Negra">
                        <div class="producto-info">
                            <h4>T-shirt B√°sica Negra</h4>
                            <p class="precio">Q25.00</p>
                        </div>
                        <button class="add-cart-btn">
                            <i class="fas fa-shopping-cart"></i>
                        </button>
                    </div>
                    <div class="producto-card">
                        <img src="./images/camisas lisas/azul.png" alt="Playera Azul">
                        <div class="producto-info">
                            <h4>T-shirt Casual Azul</h4>
                            <p class="precio">Q25.00</p>
                        </div>
                        <button class="add-cart-btn">
                            <i class="fas fa-shopping-cart"></i>
                        </button>
                    </div>
                    <div class="producto-card">
                        <img src="./images/camisas lisas/rojo.png" alt="Playera Roja">
                        <div class="producto-info">
                            <h4>T-shirt B√°sica Roja</h4>
                            <p class="precio">Q25.00</p>
                        </div>
                        <button class="add-cart-btn">
                            <i class="fas fa-shopping-cart"></i>
                        </button>
                    </div>
                </div>
                <button class="carousel-btn next-btn">
                    <i class="fas fa-chevron-right"></i>
                </button>
            </div>
        </div>
    </section>

    <!-- New Arrivals Section -->
    <section class="new-arrivals-section">
        <div class="container">
            <div class="new-arrivals-grid">
                <div class="new-arrivals-left">
                    <div class="section-header">
                        <span class="section-label">Nuevos Arrivals</span>
                        <h2>Estilo Femenino</h2>
                        <p>Hasta 70% de Descuento</p>
                        <button class="btn btn-outline">Comprar Ahora</button>
                    </div>
                    <div class="women-image">
                        <img src="https://images.unsplash.com/photo-1494790108755-2616c045e4e5?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=400&q=80" alt="Estilo Femenino">
                    </div>
                </div>
                <div class="new-arrivals-right">
                    <div class="product-card">
                        <div class="discount-badge">30% OFF</div>
                        <img src="https://images.unsplash.com/photo-1553062407-98eeb64c6a62?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=300&q=80" alt="Handbag">
                        <div class="product-info">
                            <h4>Bolso</h4>
                            <button class="btn btn-small">Comprar Ahora ></button>
                        </div>
                    </div>
                    <div class="product-card">
                        <div class="discount-badge blue">40% OFF</div>
                        <img src="https://images.unsplash.com/photo-1523275335684-37898b6baf30?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=300&q=80" alt="Reloj">
                        <div class="product-info">
                            <h4>Reloj</h4>
                            <button class="btn btn-small">Comprar Ahora ></button>
                        </div>
                    </div>
                    <div class="product-card large">
                        <span class="product-category">Accesorios</span>
                        <h3>Mochila</h3>
                        <p>M√≠n. 40-60% de Descuento</p>
                        <button class="btn btn-small">Comprar Ahora ></button>
                        <img src="https://images.unsplash.com/photo-1553062407-98eeb64c6a62?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=300&q=80" alt="Backpack">
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Modal del Carrito -->
    <div id="cartModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeCartModal()">&times;</span>
            <h2>Agregar al Carrito</h2>
            <div class="modal-product">
                <img id="modalImage" src="" alt="">
                <div class="modal-details">
                    <h3 id="modalProductName">Playera Lisa</h3>
                    <p id="modalColor">Color: </p>
                    
                    <div class="size-selector">
                        <label>Talla:</label>
                        <select id="sizeSelect">
                            <option value="S">S</option>
                            <option value="M" selected>M</option>
                            <option value="L">L</option>
                            <option value="XL">XL</option>
                        </select>
                    </div>
                    
                    <div class="quantity-selector">
                        <label>Cantidad:</label>
                        <div class="quantity-controls">
                            <button onclick="decreaseQuantity()">-</button>
                            <input type="number" id="quantityInput" value="1" min="1" onchange="updatePrice()">
                            <button onclick="increaseQuantity()">+</button>
                        </div>
                    </div>
                    
                    <div class="coupon-selector" id="couponSection" style="display: none;">
                        <label>C√≥digo de Cup√≥n:</label>
                        <div class="coupon-input-container">
                            <input type="text" id="couponCode" placeholder="Ingresa tu c√≥digo" onchange="applyCoupon()">
                            <button class="btn-apply-coupon" onclick="applyCoupon()">Aplicar</button>
                        </div>
                        <div class="coupon-status" id="couponStatus"></div>
                    </div>
                    
                    <div class="price-summary">
                        <div class="unit-price">Precio unitario: <span id="unitPrice">Q25</span></div>
                        <div class="discount-applied" id="discountApplied" style="display: none;">Descuento aplicado</div>
                        <div class="total-price">Total: <span id="totalPrice">Q25</span></div>
                        <div class="discount-info" id="discountInfo" style="display: none;">
                            ¬°Descuento aplicado! Precio por docena: Q18 c/u
                        </div>
                    </div>
                    
                    <button class="btn-add-to-cart" onclick="addToCart()">Agregar al Carrito</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal del Carrito de Compras -->
    <div id="shoppingCartModal" class="modal">
        <div class="modal-content cart-modal">
            <span class="close" onclick="closeCart()">&times;</span>
            
            <div id="cartItems" class="cart-items">
                <!-- Los productos se cargar√°n din√°micamente aqu√≠ -->
            </div>
            
            <div id="emptyCart" class="empty-cart" style="display: none;">
                <i class="fas fa-shopping-cart"></i>
                <p>Tu carrito est√° vac√≠o</p>
                <p>¬°Agrega algunas playeras para comenzar!</p>
            </div>
            
            <div id="cartSummary" class="cart-summary" style="display: none;">
                <div class="summary-row">
                    <span>Subtotal:</span>
                    <span id="cartSubtotal">Q0</span>
                </div>
                <div class="summary-row">
                    <span>Env√≠o:</span>
                    <span id="cartShipping">Q30</span>
                </div>
                <div class="summary-row">
                    <span>Total de productos:</span>
                    <span id="cartTotalItems">0</span>
                </div>
                <div class="summary-row total">
                    <span>Total:</span>
                    <span id="cartTotal">Q30</span>
                </div>
                
                <div class="cart-actions">
                    <button class="btn-clear-cart" onclick="clearCart()">Vaciar Carrito</button>
                    <button class="btn-checkout" onclick="checkout()">Proceder al Checkout</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal de Pedidos -->
    <div id="ordersModal" class="modal">
        <div class="modal-content orders-modal">
            <span class="close" onclick="closeOrders()">&times;</span>
            <h2>Mis Pedidos</h2>
            
            <div id="ordersItems" class="orders-items">
                <!-- Los pedidos se cargar√°n din√°micamente aqu√≠ -->
            </div>
            
            <div id="emptyOrders" class="empty-orders" style="display: none;">
                <i class="fas fa-receipt"></i>
                <p>No tienes pedidos activos</p>
                <p>¬°Haz tu primer pedido en nuestras playeras!</p>
            </div>
        </div>
    </div>

    <!-- Modal de Cupones -->
    <div id="couponsModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeCouponsModal()">&times;</span>
            <div class="modal-header">
                <h2>¬°Cupones de Descuento!</h2>
            </div>
            
            <div id="couponsContainer" class="coupons-container">
                <!-- Los cupones se cargar√°n din√°micamente aqu√≠ -->
            </div>
            
            <div class="coupons-info">
                <p><i class="fas fa-info-circle"></i> Los cupones se renuevan cada 24 horas. ¬°Cada cup√≥n solo se puede usar una vez!</p>
            </div>
        </div>
    </div>

    <!-- Modal de Zoom de Imagen -->
    <div id="imageZoomModal" class="modal">
        <div class="modal-content image-zoom-modal">
            <span class="close" onclick="closeImageZoomModal()">&times;</span>
            <div class="zoom-image-container">
                <div class="zoom-carousel-container" id="zoomCarouselContainer" style="overflow: hidden; position: relative;">
                    <img id="zoomImage" src="" alt="Imagen del producto" 
                         onwheel="handleImageZoom(event)" 
                         onmousedown="startImageDrag(event)"
                         onmousemove="dragImage(event)"
                         onmouseup="endImageDrag()"
                         onmouseleave="endImageDrag()"
                         ondragstart="return false"
                         style="cursor: grab; transform-origin: center; transition: transform 0.1s;">
                </div>
                <div class="carousel-dots" id="zoomCarouselDots" style="display: none;"></div>
            </div>
            <div class="zoom-image-info">
                <h3 id="zoomProductName"></h3>
                <p id="zoomProductDetails"></p>
            </div>
        </div>
    </div>

    <!-- Overlay Unificado de Producto (Nuevo) -->
    <div id="productOverlay" class="product-overlay">
        <div class="overlay-header">
            <button class="back-btn" onclick="closeProductOverlay()">
                <i class="fas fa-arrow-left"></i>
            </button>
        </div>
        
        <div class="overlay-content">
            <!-- Secci√≥n de imagen del producto -->
            <div class="product-image-section">
                <div class="image-card">
                    <div class="image-container">
                        <img id="overlayProductImage" src="" alt="Producto" 
                             onwheel="handleOverlayImageZoom(event)" 
                             onmousedown="startOverlayImageDrag(event)"
                             onmousemove="dragOverlayImage(event)"
                             onmouseup="endOverlayImageDrag(event)"
                             onmouseleave="endOverlayImageDrag(event)"
                             ontouchstart="handleOverlayTouchStart(event)"
                             ontouchmove="handleOverlayTouchMove(event)"
                             ontouchend="handleOverlayTouchEnd(event)"
                             ondragstart="return false"
                             title="Haz clic para ver imagen m√°s grande"
                             style="cursor: pointer; transform-origin: center; transition: transform 0.1s; touch-action: none;">
                        <div class="image-dots">
                            <div class="dot active" id="dot1"></div>
                            <div class="dot" id="dot2"></div>
                            <div class="dot" id="dot3"></div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Secci√≥n de informaci√≥n del producto -->
            <div class="product-info-section">
                <div class="product-sku" id="overlayProductSku">DOGIMA LUXE</div>
                <div class="product-title" id="overlayProductTitle">PLAYERA DE ALTA CALIDAD</div>
                
                <div class="description-section">
                    <div class="description-header">
                        <span>Descripci√≥n</span>
                        <i class="fas fa-minus"></i>
                    </div>
                    <div class="description-text" id="overlayProductDescription">
                        Playera de alta calidad, 100% algod√≥n, perfecta para cualquier ocasi√≥n. Dise√±o moderno y c√≥modo.
                    </div>
                </div>
                
                <div class="specification-section">
                    <div class="spec-header">
                        <span>Especificaciones</span>
                        <i class="fas fa-minus"></i>
                    </div>
                    <div class="spec-content">
                        <div class="spec-item">
                            <span>Talla:</span>
                            <select id="overlaySizeSelect">
                                <option value="S">S</option>
                                <option value="M" selected>M</option>
                                <option value="L">L</option>
                                <option value="XL">XL</option>
                            </select>
                        </div>
                        <div class="spec-item">
                            <span>Cantidad:</span>
                            <div class="quantity-controls">
                                <button onclick="decreaseOverlayQuantity()">-</button>
                                <input type="number" id="overlayQuantityInput" value="1" min="1" max="50" onchange="updateOverlayPrice()">
                                <button onclick="increaseOverlayQuantity()">+</button>
                            </div>
                        </div>
                        <div class="discount-info" id="overlayDiscountInfo" style="display: none;"></div>
                    </div>
                </div>
                
            </div>
        </div>
        
        <!-- Footer fijo con precio y botones -->
        <div class="overlay-footer">
            <div class="price-section">
                <div class="price-label">Precio unitario: <span id="overlayUnitPrice">Q25</span></div>
                <div class="discount-applied" id="overlayDiscountApplied" style="display: none;">Descuento aplicado</div>
                <div class="price-value">Total: <span id="overlayTotalPrice">Q25</span></div>
            </div>
            <div class="action-buttons">
                <button class="wishlist-btn">
                    <i class="far fa-heart"></i>
                </button>
                <button class="add-to-cart-btn" onclick="addToCartFromOverlay()">
                    AGREGAR AL CARRITO
                </button>
            </div>
        </div>
    </div>

    <!-- Modal de Datos del Cliente -->
    <div id="customerDataModal" class="modal">
        <div class="modal-content customer-modal">
            <span class="close" onclick="closeCustomerDataModal()">&times;</span>
            <h2>Datos de Entrega</h2>
            <p>Por favor completa tus datos para proceder con el pedido:</p>
            
            <form id="customerDataForm" class="customer-form">
                <div class="form-group">
                    <label for="customerName">Nombre Completo *</label>
                    <input type="text" id="customerName" name="customerName" required>
                </div>
                
                <div class="form-group">
                    <label for="customerPhone">N√∫mero de Tel√©fono *</label>
                    <input type="tel" id="customerPhone" name="customerPhone" placeholder="502 1234-5678" required>
                </div>
                
                <div class="form-group">
                    <label for="customerAddress">Direcci√≥n Completa *</label>
                    <textarea id="customerAddress" name="customerAddress" rows="3" placeholder="Calle, n√∫mero, zona, colonia..." required></textarea>
                </div>
                
                <div class="form-group">
                    <div class="personalized-notice">
                        <i class="fas fa-info-circle"></i>
                        <p><strong>Nota importante:</strong> Si tu pedido incluye productos personalizados, por favor env√≠a tu dise√±o al finalizar el proceso de compra.</p>
                    </div>
                </div>
                
                <div class="form-actions">
                    <button type="button" class="btn-cancel" onclick="closeCustomerDataModal()">Cancelar</button>
                    <button type="submit" class="btn-proceed">Proceder al Pedido</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Footer -->
    <footer class="main-footer">
        <div class="footer-top">
            <figure class="footer-brand">
                <a href="/" class="footer-logo">
                    <h2>Dogima Luxe.</h2>
                </a>
                <div class="social-links">
                    <a href="https://www.facebook.com/" target="_blank" aria-label="Facebook" class="social-link">
                        <i class="fab fa-facebook-f"></i>
                    </a>
                    <a href="https://www.instagram.com/" target="_blank" aria-label="Instagram" class="social-link">
                        <i class="fab fa-instagram"></i>
                    </a>
                    <a href="https://www.tiktok.com/" target="_blank" aria-label="TikTok" class="social-link">
                        <i class="fab fa-tiktok"></i>
                    </a>
                </div>
                <div class="help-button-container">
                    <button type="button" class="help-button">
                        ¬øNecesitas ayuda?
                        <i class="fas fa-headphones"></i>
                    </button>
                </div>
            </figure>
            
            <div class="footer-info">
                <div class="contact-info">
                    <div class="contact-details">
                        <p class="contact-title">Cont√°ctanos</p>
                        <p class="contact-phone">+502 5732-6695</p>
                        <p class="contact-email">info@dogimaluxe.com</p>
                    </div>
                    <div class="footer-links">
                        <p>Consulta los <a href="/terminos-y-condiciones" class="footer-link">T√©rminos y condiciones</a> de la tienda.</p>
                    </div>
                    <hr class="footer-divider">
                    <p class="footer-legal">
                        Al crear una cuenta, aceptas nuestros 
                        <a href="/terminos-y-condiciones" class="footer-link" target="_blank">T√©rminos y condiciones</a> 
                        <span>y las normas de <a href="/politica-de-privacidad" target="_blank" class="footer-link">Pol√≠ticas de tratamiento de datos</a> de Dogima Luxe</span>
                    </p>
                </div>
            </div>
        </div>
        <div class="footer-bottom"></div>
    </footer>

    <script src="script.js"></script>
    <script>
        // Funci√≥n para toggle de categor√≠as en men√∫ m√≥vil
        function toggleCategory() {
            const submenu = document.getElementById('categorySubmenu');
            const arrow = document.querySelector('.category-arrow');
            
            if (submenu && arrow) {
                submenu.classList.toggle('expanded');
                arrow.classList.toggle('rotated');
            }
        }

        // Funci√≥n para toggle de personalizar en men√∫ m√≥vil
        function togglePersonalizeCategory() {
            const submenu = document.getElementById('personalizeSubmenu');
            const arrow = document.querySelector('#personalizeSubmenu').parentElement.querySelector('.category-arrow');
            
            if (submenu && arrow) {
                submenu.classList.toggle('expanded');
                arrow.classList.toggle('rotated');
            }
        }
    </script>
    <script>
        // Aleatorizar productos inmediatamente
        function shuffleProducts() {
            console.log('üîÑ Iniciando barajado de productos...');
            const productsGrid = document.querySelector('.products-grid');
            if (productsGrid) {
                const allItems = Array.from(productsGrid.children);
                console.log('üì¶ Total de items encontrados:', allItems.length);
                
                // Separar productos de la ficha t√©cnica
                const productCards = [];
                let infoCard = null;
                
                allItems.forEach((item, index) => {
                    const categorySpan = item.querySelector('.product-category');
                    const h4 = item.querySelector('h4');
                    const productName = h4 ? h4.textContent : 'Sin nombre';
                    
                    if (categorySpan && categorySpan.textContent.includes('Informaci√≥n')) {
                        console.log(`‚ÑπÔ∏è  Ficha t√©cnica encontrada: ${productName}`);
                        infoCard = item;
                    } else if (item.classList.contains('product-item') && item.querySelector('img')) {
                        console.log(`üé® Producto agregado: ${productName} (posici√≥n original: ${index})`);
                        productCards.push(item);
                    }
                });
                
                console.log('üé® Total productos para barajar:', productCards.length);
                console.log('üìã Orden ANTES del barajado:');
                productCards.forEach((card, i) => {
                    const name = card.querySelector('h4')?.textContent || 'Sin nombre';
                    console.log(`  ${i}: ${name}`);
                });
                
                // Barajar usando Fisher-Yates
                for (let i = productCards.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    console.log(`üîÄ Intercambiando posici√≥n ${i} con ${j}`);
                    [productCards[i], productCards[j]] = [productCards[j], productCards[i]];
                }
                
                console.log('üìã Orden DESPU√âS del barajado:');
                productCards.forEach((card, i) => {
                    const name = card.querySelector('h4')?.textContent || 'Sin nombre';
                    console.log(`  ${i}: ${name}`);
                });
                
                // Reconstruir el grid
                productsGrid.innerHTML = '';
                
                // Agregar productos barajados
                productCards.forEach((card, index) => {
                    const name = card.querySelector('h4')?.textContent || 'Sin nombre';
                    console.log(`‚ûï Agregando al DOM: ${name} en posici√≥n ${index}`);
                    productsGrid.appendChild(card);
                });
                
                // Crear copias para navegaci√≥n circular bidireccional
                const clonedStart = [];
                const clonedEnd = [];
                
                // Clonar al inicio (para scroll hacia izquierda)
                productCards.forEach(card => {
                    const clonedCard = card.cloneNode(true);
                    clonedCard.classList.add('cloned-start');
                    clonedStart.push(clonedCard);
                });
                
                // Clonar al final (para scroll hacia derecha)
                productCards.forEach(card => {
                    const clonedCard = card.cloneNode(true);
                    clonedCard.classList.add('cloned-end');
                    clonedEnd.push(clonedCard);
                });
                
                // Reorganizar: clones-inicio + originales + clones-final
                productsGrid.innerHTML = '';
                clonedStart.forEach(card => productsGrid.appendChild(card));
                productCards.forEach(card => productsGrid.appendChild(card));
                clonedEnd.forEach(card => productsGrid.appendChild(card));
                
                // Configurar scroll circular bidireccional
                const cardWidth = 320 + 20; // ancho + gap
                const totalOriginalWidth = productCards.length * cardWidth;
                let isScrolling = false;
                
                // Posicionar en el centro (productos originales)
                productsGrid.scrollLeft = totalOriginalWidth;
                
                productsGrid.addEventListener('scroll', () => {
                    if (isScrolling) return;
                    
                    // Si lleg√≥ al final (clones-final)
                    if (productsGrid.scrollLeft >= totalOriginalWidth * 2) {
                        isScrolling = true;
                        productsGrid.scrollLeft = totalOriginalWidth;
                        setTimeout(() => isScrolling = false, 50);
                    }
                    // Si lleg√≥ al inicio (clones-inicio)
                    else if (productsGrid.scrollLeft <= 0) {
                        isScrolling = true;
                        productsGrid.scrollLeft = totalOriginalWidth;
                        setTimeout(() => isScrolling = false, 50);
                    }
                });
                
                // Mostrar el grid despu√©s del barajado
                productsGrid.classList.add('ready');
                
                // Tambi√©n mostrar la secci√≥n de Oversize
                const oversizeGrid = document.querySelector('#oversizeGrid');
                if (oversizeGrid) {
                    oversizeGrid.classList.add('ready');
                }
                
                // Hacer scroll horizontal solo dentro del carrusel
                setTimeout(() => {
                    const randomIndex = Math.floor(Math.random() * productCards.length);
                    if (randomIndex > 0 && window.innerWidth <= 768) {
                        const cardWidth = 320 + 20; // ancho + gap
                        const scrollPosition = randomIndex * cardWidth;
                        productsGrid.scrollLeft = scrollPosition;
                        console.log(`üéØ Carrusel scroll horizontal a posici√≥n: ${scrollPosition}px (producto ${randomIndex})`);
                    }
                }, 100);
                
                console.log('‚úÖ Barajado completado y grid mostrado');
            }
        }
        
        // Ejecutar cuando el DOM est√© listo
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', shuffleProducts);
        } else {
            shuffleProducts();
        }
    </script>
    
    <script>
        // Variables para el zoom y arrastre de imagen
        let currentScale = 1;
        let isDragging = false;
        let startX = 0;
        let startY = 0;
        let translateX = 0;
        let translateY = 0;
        
        // Funci√≥n para manejar el zoom con la rueda del mouse
        function handleImageZoom(event) {
            event.preventDefault();
            const img = document.getElementById('zoomImage');
            const delta = event.deltaY * -0.01;
            
            // L√≠mites de zoom
            const minScale = 1.0;
            const maxScale = 5;
            
            currentScale += delta;
            currentScale = Math.min(Math.max(minScale, currentScale), maxScale);
            
            // Si regresamos al tama√±o original, centrar la imagen
            if (currentScale === 1) {
                translateX = 0;
                translateY = 0;
            }
            
            updateImageTransform(img);
        }
        
        // Funci√≥n para iniciar el arrastre
        function startImageDrag(event) {
            if (currentScale > 1) {
                isDragging = true;
                startX = event.clientX - translateX;
                startY = event.clientY - translateY;
                
                const img = document.getElementById('zoomImage');
                img.style.cursor = 'grabbing';
                img.style.transition = 'none';
            }
        }
        
        // Funci√≥n para arrastrar la imagen
        function dragImage(event) {
            if (isDragging && currentScale > 1) {
                const newTranslateX = event.clientX - startX;
                const newTranslateY = event.clientY - startY;
                
                const img = document.getElementById('zoomImage');
                const container = img.parentElement;
                
                // Calcular l√≠mites basados en el tama√±o de la imagen y el contenedor
                const imgRect = img.getBoundingClientRect();
                const containerRect = container.getBoundingClientRect();
                
                const scaledWidth = imgRect.width;
                const scaledHeight = imgRect.height;
                const containerWidth = containerRect.width;
                const containerHeight = containerRect.height;
                
                // Calcular l√≠mites m√°ximos de movimiento
                const maxTranslateX = Math.max(0, (scaledWidth - containerWidth) / 2 / currentScale);
                const maxTranslateY = Math.max(0, (scaledHeight - containerHeight) / 2 / currentScale);
                
                // Aplicar l√≠mites
                translateX = Math.max(-maxTranslateX, Math.min(maxTranslateX, newTranslateX));
                translateY = Math.max(-maxTranslateY, Math.min(maxTranslateY, newTranslateY));
                
                updateImageTransform(img);
            }
        }
        
        // Funci√≥n para terminar el arrastre
        function endImageDrag() {
            if (isDragging) {
                isDragging = false;
                const img = document.getElementById('zoomImage');
                img.style.cursor = currentScale > 1 ? 'grab' : 'default';
                img.style.transition = 'transform 0.1s';
            }
        }
        
        // Funci√≥n para actualizar la transformaci√≥n de la imagen
        function updateImageTransform(img) {
            img.style.transform = `scale(${currentScale}) translate(${translateX/currentScale}px, ${translateY/currentScale}px)`;
        }
        
        // Resetear zoom cuando se abre una nueva imagen
        function resetImageZoom() {
            currentScale = 1;
            translateX = 0;
            translateY = 0;
            isDragging = false;
            
            const img = document.getElementById('zoomImage');
            if (img) {
                img.style.transform = 'scale(1) translate(0px, 0px)';
                img.style.cursor = 'default';
            }
        }
        
        // Sobrescribir la funci√≥n original de apertura del modal para resetear el zoom
        const originalOpenProductImageModal = window.openProductImageModal;
        if (originalOpenProductImageModal) {
            window.openProductImageModal = function(...args) {
                originalOpenProductImageModal.apply(this, args);
                setTimeout(resetImageZoom, 100);
            };
        }
        
        // Agregar doble clic para resetear zoom
        document.getElementById('zoomImage').addEventListener('dblclick', function() {
            resetImageZoom();
        });
    </script>
    
    <!-- Funciones para el Overlay Unificado -->
    <script>
        // Variables para el overlay
        let overlayCurrentImageIndex = 0;
        let overlayProductImages = [];
        let overlayCurrentProduct = null;
        let overlayCurrentProductColor = '';
        let overlayCurrentProductType = 'lisa'; // lisa | oversize | boxfit
        
        // Variables para zoom y drag en overlay
        let overlayCurrentScale = 1;
        let overlayIsDragging = false;
        let overlayStartX = 0;
        let overlayStartY = 0;
        let overlayTranslateX = 0;
        let overlayTranslateY = 0;
        let overlayMouseDownTime = 0;
        let overlayMouseDownX = 0;
        let overlayMouseDownY = 0;
        
        // Variables para gestos t√°ctiles en overlay
        let overlayIsZooming = false;
        let overlayInitialDistance = 0;
        let overlayInitialScale = 1;
        let overlayTouches = [];
        let overlayLastTouchDistance = 0;
        let overlayLastTouchTime = 0;
        let overlayTouchCount = 0;
        let overlaySwipeStartX = 0;
        let overlaySwipeStartY = 0;
        let overlaySwipeThreshold = 50;
        
        // Funci√≥n para obtener precio unitario (copiada del script.js)
        function getOverlayUnitPriceFor(quantity, productName) {
            const name = (productName || '').toLowerCase();
            
            if (name.includes('oversize') || name.includes('boxfit')) {
                if (quantity >= 12) return 35; // Docena
                if (quantity >= 6) return 38;  // Media docena
                return 45; // Individual
            } else {
                // Playeras lisas
                if (quantity >= 12) return 18; // Docena
                return 25; // Individual
            }
        }
        
        // Funci√≥n para actualizar precio en overlay
        function updateOverlayPrice() {
            const quantity = parseInt(document.getElementById('overlayQuantityInput').value);
            const unitPrice = getOverlayUnitPriceFor(quantity, overlayCurrentProductColor);
            const total = unitPrice * quantity;
            
            document.getElementById('overlayUnitPrice').textContent = `Q${unitPrice}`;
            document.getElementById('overlayTotalPrice').textContent = `Q${total}`;
            
            const discountInfo = document.getElementById('overlayDiscountInfo');
            
            if (overlayCurrentProductType === 'lisa') {
                // Mostrar info solo para docena en lisas
                discountInfo.style.display = quantity >= 12 ? 'block' : 'none';
                discountInfo.textContent = quantity >= 12 ? 'Precio por docena aplicado (Q18 c/u)' : '';
            } else {
                // Oversize y Boxfit: mostrar tier activo
                if (quantity >= 12) {
                    discountInfo.style.display = 'block';
                    discountInfo.textContent = 'Precio por docena aplicado (Q35 c/u)';
                } else if (quantity >= 6) {
                    discountInfo.style.display = 'block';
                    discountInfo.textContent = 'Precio por media docena aplicado (Q38 c/u)';
                } else {
                    discountInfo.style.display = 'none';
                    discountInfo.textContent = '';
                }
            }
        }
        
        // Funci√≥n para abrir el overlay unificado
        function openProductOverlay(productName, imageSource, price) {
            // Determinar la ruta correcta de la imagen
            let imagePath;
            if (imageSource.startsWith('./images/')) {
                imagePath = imageSource;
            } else {
                imagePath = `./images/camisas lisas/${imageSource}.png`;
            }
            
            // Generar array de im√°genes para este producto
            overlayProductImages = getOverlayProductImages(productName, imageSource);
            overlayCurrentImageIndex = 0;
            
            // Configurar la informaci√≥n del producto
            document.getElementById('overlayProductSku').textContent = 'DOGIMA LUXE';
            document.getElementById('overlayProductTitle').textContent = productName.toUpperCase();
            document.getElementById('overlayProductDescription').textContent = 'Playera de alta calidad, 100% algod√≥n, perfecta para cualquier ocasi√≥n. Dise√±o moderno y c√≥modo.';
            
            // Configurar imagen principal
            document.getElementById('overlayProductImage').src = overlayProductImages[0];
            
            // Configurar dots
            setupOverlayDots();
            
            // Resetear valores del formulario
            document.getElementById('overlaySizeSelect').value = 'M';
            document.getElementById('overlayQuantityInput').value = '1';
            document.getElementById('overlayDiscountApplied').style.display = 'none';
            document.getElementById('overlayDiscountInfo').style.display = 'none';
            
            // Guardar datos del producto actual
            overlayCurrentProduct = {
                name: productName,
                image: imagePath,
                price: price
            };
            
            // Mostrar el overlay
            document.getElementById('productOverlay').style.display = 'flex';
        }
        
        // Funci√≥n para detectar im√°genes disponibles (copiada del script.js)
        function detectOverlayAvailableImages(colorName, imageId) {
            const images = [];
            
            // Obtener carpeta y extensi√≥n seg√∫n el tipo de producto
            let imageFolder = 'camisas lisas';
            let extension = '.png';
            
            if (overlayCurrentProductType === 'oversize') {
                imageFolder = 'overside';
                extension = '.jpg';
            } else if (overlayCurrentProductType === 'boxfit') {
                imageFolder = 'T-shirt Boxifit';
                extension = '.jpg';
            }
            
            // Si imageId ya es una ruta completa, usarla
            if (imageId && (imageId.includes('/') || imageId.includes('.'))) {
                images.push(imageId);
                return images;
            }
            
            // Usar el nombre exacto del archivo base
            const baseFileName = imageId || colorName.toLowerCase();
            
            // Solo agregar la imagen base por defecto
            const baseImagePath = `./images/${imageFolder}/${baseFileName}${extension}`;
            images.push(baseImagePath);
            
            return images;
        }
        
        // Funci√≥n para verificar si una imagen existe
        function checkOverlayImageExists(imagePath) {
            return new Promise((resolve) => {
                const img = new Image();
                img.onload = () => resolve(true);
                img.onerror = () => resolve(false);
                img.src = imagePath;
            });
        }
        
        // Funci√≥n para cargar im√°genes adicionales
        async function loadOverlayAdditionalImages() {
            if (overlayProductImages.length === 0) return;
            
            const basePath = overlayProductImages[0];
            const pathParts = basePath.split('/');
            const fileName = pathParts[pathParts.length - 1];
            const baseName = fileName.split('.')[0];
            const extension = fileName.split('.')[1];
            const folder = pathParts.slice(0, -1).join('/');
            
            const additionalImages = [];
            
            // Verificar im√°genes numeradas
            for (let i = 1; i <= 10; i++) {
                const numberedPath = `${folder}/${baseName}${i}.${extension}`;
                
                try {
                    const exists = await checkOverlayImageExists(numberedPath);
                    if (exists) {
                        additionalImages.push(numberedPath);
                    }
                } catch (error) {
                    // Imagen no existe, continuar
                }
            }
            
            // Agregar im√°genes adicionales al array principal
            overlayProductImages.push(...additionalImages);
            
            // Actualizar el carrusel
            updateOverlayCarouselDisplay();
        }
        
        // Funci√≥n para actualizar la visualizaci√≥n del carrusel
        function updateOverlayCarouselDisplay() {
            const dotsContainer = document.querySelector('.image-dots');
            
            // Mostrar/ocultar dots
            if (overlayProductImages.length > 1) {
                if (dotsContainer) {
                    dotsContainer.style.display = 'flex';
                    dotsContainer.innerHTML = '';
                    overlayProductImages.forEach((_, index) => {
                        const dot = document.createElement('div');
                        dot.className = `dot ${index === overlayCurrentImageIndex ? 'active' : ''}`;
                        dot.onclick = () => goToOverlayImage(index);
                        dotsContainer.appendChild(dot);
                    });
                }
            } else {
                if (dotsContainer) {
                    dotsContainer.style.display = 'none';
                }
            }
        }
        
        // Funci√≥n para configurar dots
        function setupOverlayDots() {
            updateOverlayCarouselDisplay();
        }
        
        // Funci√≥n para ir a una imagen espec√≠fica en el overlay
        function goToOverlayImage(index) {
            if (index >= 0 && index < overlayProductImages.length) {
                overlayCurrentImageIndex = index;
                const overlayImg = document.getElementById('overlayProductImage');
                if (overlayImg && overlayProductImages[index]) {
                    overlayImg.src = overlayProductImages[index];
                }
                
                // Actualizar dots
                document.querySelectorAll('.image-dots .dot').forEach((dot, i) => {
                    dot.classList.toggle('active', i === index);
                });
                
                // Resetear zoom al cambiar imagen
                setTimeout(resetOverlayImageZoom, 100);
            }
        }
        
        // Funci√≥n para cambiar imagen en el overlay (compatibilidad)
        function changeOverlayImage(index) {
            goToOverlayImage(index);
        }
        
        // Funci√≥n para cerrar el overlay
        function closeProductOverlay() {
            document.getElementById('productOverlay').style.display = 'none';
        }
        
        // Funciones para control de cantidad
        function increaseOverlayQuantity() {
            const input = document.getElementById('overlayQuantityInput');
            const currentValue = parseInt(input.value);
            if (currentValue < 50) {
                input.value = currentValue + 1;
                updateOverlayPrice();
            }
        }
        
        function decreaseOverlayQuantity() {
            const input = document.getElementById('overlayQuantityInput');
            const currentValue = parseInt(input.value);
            if (currentValue > 1) {
                input.value = currentValue - 1;
                updateOverlayPrice();
            }
        }
        
        // Funci√≥n para agregar al carrito desde el overlay (copiada del script.js)
        function addToCartFromOverlay() {
            const quantity = parseInt(document.getElementById('overlayQuantityInput').value);
            const size = document.getElementById('overlaySizeSelect').value;
            const unitPrice = getOverlayUnitPriceFor(quantity, overlayCurrentProductColor);
            let total = unitPrice * quantity;
            
            // T√≠tulo seg√∫n tipo
            let titlePrefix = 'Playera Lisa';
            if (overlayCurrentProductType === 'oversize') titlePrefix = 'T-shirt Oversize';
            if (overlayCurrentProductType === 'boxfit') titlePrefix = 'T-shirt Boxfit';
            
            // Crear objeto del producto
            const product = {
                id: Date.now(), // ID √∫nico basado en timestamp
                name: `${titlePrefix} - Color ${overlayCurrentProductColor}`,
                color: overlayCurrentProductColor,
                size: size,
                quantity: quantity,
                unitPrice: unitPrice,
                total: total,
                originalTotal: unitPrice * quantity,
                image: overlayCurrentProduct.image
            };
            
            // Buscar si ya existe un producto similar (mismo nombre y talla)
            const existingItemIndex = cartItems.findIndex(item => 
                item.name === product.name && item.size === size
            );
            
            if (existingItemIndex > -1) {
                // Si existe, actualizar cantidad y total
                cartItems[existingItemIndex].quantity += quantity;
                updateCartItemPrice(existingItemIndex);
            } else {
                // Si no existe, agregar nuevo producto
                cartItems.push(product);
            }
            
            // Actualizar UI del carrito
            updateCartBadge();
            updateCartDisplay();
            
            // Guardar en localStorage
            saveCartToLocalStorage();
            
            // Efecto visual en el badge
            const cartBadge = document.querySelectorAll('.badge')[1];
            if (cartBadge) {
                cartBadge.style.transform = 'scale(1.3)';
                cartBadge.style.background = '#4caf50';
                setTimeout(() => {
                    cartBadge.style.transform = 'scale(1)';
                    cartBadge.style.background = '#1e88e5';
                }, 300);
            }
            
            // Cerrar overlay
            closeProductOverlay();
        }
        
        // Funciones de compatibilidad para redireccionar al overlay
        function openProductImageModalOverlay(productName, imageSource) {
            let price = 25;
            if (productName.includes('Oversize') || productName.includes('Boxfit')) {
                price = 45;
            }
            openProductOverlay(productName, imageSource, price);
        }
        
        function openCartModalOverlay(productName, imageSource) {
            let price = 25;
            if (productName.includes('Oversize') || productName.includes('Boxfit')) {
                price = 45;
            }
            openProductOverlay(productName, imageSource, price);
        }
        
        // Funci√≥n para obtener im√°genes del producto (simplificada)
        function getOverlayProductImages(productName, imageSource) {
            // Determinar tipo de producto
            overlayCurrentProductColor = productName;
            overlayCurrentProductType = 'lisa';
            
            if (productName.includes('Oversize')) {
                overlayCurrentProductType = 'oversize';
            } else if (productName.includes('Boxfit')) {
                overlayCurrentProductType = 'boxfit';
            }
            
            // Detectar im√°genes disponibles
            const images = detectOverlayAvailableImages(productName, imageSource);
            
            // Cargar im√°genes adicionales de forma as√≠ncrona
            setTimeout(() => {
                loadOverlayAdditionalImages();
            }, 100);
            
            return images;
        }
        
        // Funciones de zoom y drag para overlay (simplificadas)
        function handleOverlayImageZoom(event) {
            event.preventDefault();
            const delta = event.deltaY > 0 ? -0.1 : 0.1;
            overlayCurrentScale = Math.max(0.5, Math.min(3, overlayCurrentScale + delta));
            updateOverlayImageTransform();
        }
        
        function startOverlayImageDrag(event) {
            overlayIsDragging = true;
            overlayStartX = event.clientX - overlayTranslateX;
            overlayStartY = event.clientY - overlayTranslateY;
            overlayMouseDownTime = Date.now();
            overlayMouseDownX = event.clientX;
            overlayMouseDownY = event.clientY;
        }
        
        function dragOverlayImage(event) {
            if (!overlayIsDragging) return;
            event.preventDefault();
            overlayTranslateX = event.clientX - overlayStartX;
            overlayTranslateY = event.clientY - overlayStartY;
            updateOverlayImageTransform();
        }
        
        function endOverlayImageDrag(event) {
            if (!overlayIsDragging) return;
            overlayIsDragging = false;
            
            const timeDiff = Date.now() - overlayMouseDownTime;
            const distance = Math.sqrt(
                Math.pow(event.clientX - overlayMouseDownX, 2) + 
                Math.pow(event.clientY - overlayMouseDownY, 2)
            );
            
            // Si fue un clic r√°pido y no se arrastr√≥ mucho, abrir modal de zoom
            if (timeDiff < 200 && distance < 5 && !overlayIsDragging) {
                openImageZoomModalFromOverlay();
            }
        }
        
        function updateOverlayImageTransform() {
            const img = document.getElementById('overlayProductImage');
            if (img) {
                img.style.transform = `scale(${overlayCurrentScale}) translate(${overlayTranslateX}px, ${overlayTranslateY}px)`;
            }
        }
        
        function resetOverlayImageZoom() {
            overlayCurrentScale = 1;
            overlayTranslateX = 0;
            overlayTranslateY = 0;
            updateOverlayImageTransform();
        }
        
        // Funciones de gestos t√°ctiles para overlay (igual que store2.html)
        function handleOverlayTouchStart(event) {
            event.preventDefault();
            overlayTouches = Array.from(event.touches);
            
            if (overlayTouches.length === 1) {
                // Detectar doble toque para resetear zoom
                const currentTime = new Date().getTime();
                const timeDiff = currentTime - overlayLastTouchTime;
                
                if (timeDiff < 300 && timeDiff > 0) {
                    // Doble toque detectado - resetear zoom
                    resetOverlayImageZoom();
                    return;
                }
                
                overlayLastTouchTime = currentTime;
                
                // Un dedo - preparar para arrastre
                if (overlayCurrentScale > 1) {
                    overlayIsDragging = true;
                    overlayStartX = overlayTouches[0].clientX - overlayTranslateX;
                    overlayStartY = overlayTouches[0].clientY - overlayTranslateY;
                }
                
                // Guardar posici√≥n inicial para detectar swipe
                overlaySwipeStartX = overlayTouches[0].clientX;
                overlaySwipeStartY = overlayTouches[0].clientY;
            } else if (overlayTouches.length === 2) {
                // Dos dedos - preparar para zoom
                overlayIsZooming = true;
                overlayIsDragging = false;
                overlayInitialDistance = getOverlayDistance(overlayTouches[0], overlayTouches[1]);
                overlayInitialScale = overlayCurrentScale;
                overlayLastTouchDistance = overlayInitialDistance;
            }
        }
        
        // Funci√≥n para manejar el movimiento del toque en overlay
        function handleOverlayTouchMove(event) {
            event.preventDefault();
            overlayTouches = Array.from(event.touches);
            const img = document.getElementById('overlayProductImage');
            
            if (overlayTouches.length === 1 && overlayIsDragging && overlayCurrentScale > 1) {
                // Un dedo - arrastrar
                const newTranslateX = overlayTouches[0].clientX - overlayStartX;
                const newTranslateY = overlayTouches[0].clientY - overlayStartY;
                
                const container = img.parentElement;
                const imgRect = img.getBoundingClientRect();
                const containerRect = container.getBoundingClientRect();
                
                const scaledWidth = imgRect.width;
                const scaledHeight = imgRect.height;
                const containerWidth = containerRect.width;
                const containerHeight = containerRect.height;
                
                // Calcular l√≠mites m√°ximos de movimiento
                const maxTranslateX = Math.max(0, (scaledWidth - containerWidth) / 2 / overlayCurrentScale);
                const maxTranslateY = Math.max(0, (scaledHeight - containerHeight) / 2 / overlayCurrentScale);
                
                // Aplicar l√≠mites
                overlayTranslateX = Math.max(-maxTranslateX, Math.min(maxTranslateX, newTranslateX));
                overlayTranslateY = Math.max(-maxTranslateY, Math.min(maxTranslateY, newTranslateY));
                
                updateOverlayImageTransform(img);
            } else if (overlayTouches.length === 2 && overlayIsZooming) {
                // Dos dedos - zoom
                const currentDistance = getOverlayDistance(overlayTouches[0], overlayTouches[1]);
                const scaleChange = currentDistance / overlayInitialDistance;
                
                // L√≠mites de zoom
                const minScale = 1.0;
                const maxScale = 5;
                
                let newScale = overlayInitialScale * scaleChange;
                newScale = Math.min(Math.max(minScale, newScale), maxScale);
                
                // Si regresamos al tama√±o original, centrar la imagen
                if (newScale === 1) {
                    overlayTranslateX = 0;
                    overlayTranslateY = 0;
                }
                
                overlayCurrentScale = newScale;
                updateOverlayImageTransform(img);
            }
        }
        
        // Funci√≥n para manejar el fin del toque en overlay
        function handleOverlayTouchEnd(event) {
            event.preventDefault();
            overlayTouches = Array.from(event.touches);
            
            if (overlayTouches.length === 0) {
                // No hay m√°s toques - verificar si fue un toque simple o swipe
                const touchEndTime = Date.now();
                const timeDiff = touchEndTime - overlayLastTouchTime;
                
                // Detectar swipe horizontal para cambiar imagen
                const deltaX = event.changedTouches[0].clientX - overlaySwipeStartX;
                const deltaY = event.changedTouches[0].clientY - overlaySwipeStartY;
                
                // Si el movimiento horizontal es mayor que el vertical y supera el umbral
                if (Math.abs(deltaX) > Math.abs(deltaY) && Math.abs(deltaX) > overlaySwipeThreshold) {
                    if (deltaX > 0) {
                        // Swipe hacia la derecha - imagen anterior
                        prevOverlayImage();
                    } else {
                        // Swipe hacia la izquierda - imagen siguiente
                        nextOverlayImage();
                    }
                } else if (timeDiff < 300 && !overlayIsZooming && !overlayIsDragging) {
                    // Si fue un toque simple (no zoom, no drag), abrir modal
                    openImageZoomModalFromOverlay();
                }
                
                overlayIsDragging = false;
                overlayIsZooming = false;
                overlayInitialDistance = 0;
                overlayInitialScale = 1;
            } else if (overlayTouches.length === 1) {
                // Queda un dedo - cambiar de zoom a arrastre si est√° ampliado
                overlayIsZooming = false;
                if (overlayCurrentScale > 1) {
                    overlayIsDragging = true;
                    overlayStartX = overlayTouches[0].clientX - overlayTranslateX;
                    overlayStartY = overlayTouches[0].clientY - overlayTranslateY;
                }
            }
        }
        
        function getOverlayDistance(touch1, touch2) {
            const dx = touch1.clientX - touch2.clientX;
            const dy = touch1.clientY - touch2.clientY;
            return Math.sqrt(dx * dx + dy * dy);
        }
        
        // Funci√≥n para abrir el modal de zoom desde el overlay
        function openImageZoomModalFromOverlay() {
            if (overlayProductImages.length > 0) {
                // Configurar las variables globales del modal de zoom
                carouselImages = [...overlayProductImages];
                currentImageIndex = overlayCurrentImageIndex;
                currentProductColor = overlayCurrentProductColor;
                currentProductType = overlayCurrentProductType;
                
                // Limpiar informaci√≥n anterior del modal
                const productNameEl = document.getElementById('zoomProductName');
                const productDetailsEl = document.getElementById('zoomProductDetails');
                if (productNameEl) productNameEl.textContent = '';
                if (productDetailsEl) productDetailsEl.textContent = '';
                
                // Abrir el modal de zoom
                if (typeof openImageZoomModal === 'function') {
                    openImageZoomModal(overlayCurrentProductColor, overlayProductImages[overlayCurrentImageIndex]);
                } else {
                    // Fallback: abrir directamente el modal
                    const modal = document.getElementById('imageZoomModal');
                    if (modal) {
                        const zoomImage = document.getElementById('zoomImage');
                        if (zoomImage && overlayProductImages[overlayCurrentImageIndex]) {
                            zoomImage.src = overlayProductImages[overlayCurrentImageIndex];
                        }
                        // Asegurar que el modal aparezca encima del overlay
                        modal.style.zIndex = '10001';
                        modal.style.display = 'block';
                    }
                }
            }
        }
        
        // Agregar doble clic para resetear zoom en overlay y navegaci√≥n con teclado
        document.addEventListener('DOMContentLoaded', function() {
            const overlayImg = document.getElementById('overlayProductImage');
            if (overlayImg) {
                overlayImg.addEventListener('dblclick', function() {
                    resetOverlayImageZoom();
                });
            }
            
            // Navegaci√≥n con teclado
            document.addEventListener('keydown', function(event) {
                const overlay = document.getElementById('productOverlay');
                if (overlay && overlay.style.display === 'flex') {
                    if (event.key === 'Escape') {
                        event.preventDefault();
                        closeProductOverlay();
                    }
                }
            });
        });
    </script>
</body>
</html>
